(this.webpackJsonpvc=this.webpackJsonpvc||[]).push([[0],{47:function(e,n,t){e.exports=t(87)},52:function(e,n,t){},78:function(e,n){},87:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t.n(o),a=t(43),i=t.n(a),r=(t(52),t(7)),l=t(12),s=t.n(l);var u=function(){var e,n=Object(o.useState)(""),t=Object(r.a)(n,2),a=t[0],i=t[1],l=s()("http://localhost:8000"),u=document.getElementById("localVideo"),d=document.getElementById("remoteVideo"),f=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}];l.on("end",(function(e){m()})),l.on("full_room",(function(e){console.log("Room full: ",e),alert("Room ".concat(a," is full."))})),l.on("join",(function(n){console.log("Join: ",n),e=new RTCPeerConnection({iceServers:f}),g(e)})),l.on("offer",(function(n){console.log("Offer"),e.setRemoteDescription(new RTCSessionDescription(n))})),l.on("answer",(function(n){console.log("Answer"),e.setRemoteDescription(new RTCSessionDescription(n))})),l.on("candidate",(function(n){e.addIceCandidate(new RTCIceCandidate(n.candidate))})),l.on("end",(function(e){m()}));var m=function(){e&&(e.ontrack=null,e.onicecandidate=null),d.srcObject&&d.srcObject.getTracks().forEach((function(e){return e.stop()})),u.srcObject&&u.srcObject.getTracks().forEach((function(e){return e.stop()})),e.close(),e=new RTCPeerConnection({iceServers:f})},g=function(e){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(n){u.srcObject=n,n.getTracks().forEach((function(t){return e.addTrack(t,n)}))})),e.ontrack=function(e){d.srcObject=e.streams[0]}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:a,onChange:function(e){return i(e.target.value)}}),c.a.createElement("button",{onClick:function(e){l.emit("join",a)}},"Connect"),c.a.createElement("button",{onClick:function(n){return e.createOffer().then((function(n){e.setLocalDescription(new RTCSessionDescription(n)),l.emit("offer",{id:a,offer:n})})),void(e.onicecandidate=function(e){e.candidate&&l.emit("candidate",{id:a,candidate:e.candidate})})}},"Call"),c.a.createElement("button",{onClick:function(n){return e.createAnswer().then((function(n){e.setLocalDescription(new RTCSessionDescription(n)),l.emit("answer",{id:a,answer:n})})),void(e.onicecandidate=function(e){e.candidate&&l.emit("candidate",{id:a,candidate:e.candidate})})}},"Answer"),c.a.createElement("button",{onClick:function(e){l.emit("end",{id:a})}},"End"),c.a.createElement("br",null),c.a.createElement("video",{id:"localVideo",autoPlay:!0,height:200}),c.a.createElement("video",{id:"remoteVideo",autoPlay:!0,height:200}))};t(3),t(8),t(44);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=t(45),f=t(1);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d.a,null,c.a.createElement(f.c,null,c.a.createElement(f.a,{exact:!0,path:"/",component:u})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.28295d0d.chunk.js.map