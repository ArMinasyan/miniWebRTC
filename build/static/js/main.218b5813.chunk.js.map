{"version":3,"sources":["App.js","App2.js","App3.js","serviceWorker.js","index.js"],"names":["App","localStream","isRoomCreator","rtcPeerConnection","roomId","useState","id","setId","deviceID_0","setDeviceID_0","socket","io","iceServers","urls","roomSelectionContainer","document","getElementById","videoChatContainer","localVideoComponent","remoteVideoComponent","mediaConstraints","audio","video","width","height","navigator","mediaDevices","enumerateDevices","then","device","console","log","filter","elem","kind","connect","room","alert","emit","style","setLocalStream","a","getUserMedia","deviceId","stream","srcObject","error","addLocalTracks","getTracks","forEach","track","addTrack","createOffer","sessionDescription","setLocalDescription","type","sdp","createAnswer","setRemoteStream","event","streams","sendIceCandidate","candidate","label","sdpMLineIndex","on","RTCPeerConnection","ontrack","onicecandidate","setRemoteDescription","RTCSessionDescription","RTCIceCandidate","addIceCandidate","className","onChange","e","target","value","onClick","autoPlay","muted","App2","App3","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","path","component","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.218b5813.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client';\n\nfunction App() {\n\n    const [id, setId] = useState();\n    const [offerData, setOfferData] = useState({});\n    const [answerData, setAnswerData] = useState({});\n    const [deviceID_0, setDeviceID_0] = useState('');\n    let socket = io('https://rtc-test-11.herokuapp.com/');\n   // navigator.getUserMedia = navigator.getUserMedia | navigator.webkitGetUserMedia | navigator.mozGetUserMedia | navigator.msGetUserMedia;\n    let iceServers = [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' },\n        { urls: 'stun:stun2.l.google.com:19302' },\n        { urls: 'stun:stun3.l.google.com:19302' },\n        { urls: 'stun:stun4.l.google.com:19302' },\n    ]\n    const roomSelectionContainer = document.getElementById('room-selection-container')\n    const roomInput = document.getElementById('room-input')\n    const connectButton = document.getElementById('connect-button')\n\n    const videoChatContainer = document.getElementById('video-chat-container')\n    const localVideoComponent = document.getElementById('local-video')\n    const remoteVideoComponent = document.getElementById('remote-video')\n\n    const mediaConstraints = {\n        audio: true,\n        video: { width: 1280, height: 720 },\n    }\n\n    let localStream\n    let remoteStream\n    let isRoomCreator\n    let rtcPeerConnection // Connection between the local device and the remote peer.\n    let roomId\n\n    navigator.mediaDevices.enumerateDevices().then(device => {\n        console.log(device.filter(elem => elem.kind == 'videoinput'))\n    });\n\n\n    // BUTTON LISTENER ============================================================\n    let connect = () => {\n        joinRoom(id)\n    }\n\n    // SOCKET EVENT CALLBACKS =====================================================\n    socket.on('room_created', async () => {\n        console.log('Socket event callback: room_created')\n\n        await setLocalStream(mediaConstraints)\n        isRoomCreator = true\n    })\n\n    socket.on('room_joined', async () => {\n        console.log('Socket event callback: room_joined')\n\n        await setLocalStream(mediaConstraints)\n        socket.emit('start_call', roomId)\n    })\n\n    socket.on('full_room', () => {\n        console.log('Socket event callback: full_room')\n\n        alert('The room is full, please try another one')\n    })\n\n    socket.on('start_call', async () => {\n        console.log('Socket event callback: start_call')\n\n        if (isRoomCreator) {\n            rtcPeerConnection = new RTCPeerConnection(iceServers);\n            addLocalTracks(rtcPeerConnection);\n            rtcPeerConnection.ontrack = setRemoteStream;\n            rtcPeerConnection.onicecandidate = sendIceCandidate;\n            await createOffer(rtcPeerConnection);\n        }\n    })\n\n    socket.on('webrtc_offer', async (event) => {\n        console.log('Socket event callback: webrtc_offer');\n\n        if (!isRoomCreator) {\n            rtcPeerConnection = new RTCPeerConnection(iceServers);\n            addLocalTracks(rtcPeerConnection);\n            rtcPeerConnection.ontrack = setRemoteStream;\n            rtcPeerConnection.onicecandidate = sendIceCandidate;\n            rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(event));\n            await createAnswer(rtcPeerConnection);\n        }\n    })\n\n    socket.on('webrtc_answer', (event) => {\n        console.log('Socket event callback: webrtc_answer')\n\n        rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(event))\n    })\n\n    socket.on('webrtc_ice_candidate', (event) => {\n\n        var candidate = new RTCIceCandidate({\n            sdpMLineIndex: event.label,\n            candidate: event.candidate,\n        })\n        rtcPeerConnection.addIceCandidate(candidate)\n    })\n\n    // FUNCTIONS ==================================================================\n    function joinRoom(room) {\n        if (room === '') {\n            alert('Please type a room ID')\n        } else {\n            roomId = room\n            socket.emit('join', room)\n            showVideoConference()\n        }\n    }\n\n    function showVideoConference() {\n        roomSelectionContainer.style = 'display: none'\n        videoChatContainer.style = 'display: block'\n    }\n\n    async function setLocalStream(mediaConstraints) {\n\n\n        try {\n\n\n            let stream = await navigator.mediaDevices.getUserMedia({ audio: false, video: true, deviceId: deviceID_0 });\n            // console.log(device.filter(elem => elem.kind === 'videoinput')[0].deviceId)\n            localStream = stream\n            localVideoComponent.srcObject = stream\n\n            // console.log(deviceID_0);\n\n            // console.log((await navigator.mediaDevices.enumerateDevices()).filter(elem => elem.kind == 'videoinput'));\n\n        } catch (error) {\n            console.error('Could not get user media', error)\n        }\n\n\n    }\n\n    function addLocalTracks(rtcPeerConnection) {\n        localStream.getTracks().forEach((track) => {\n            rtcPeerConnection.addTrack(track, localStream)\n        })\n    }\n\n    async function createOffer(rtcPeerConnection) {\n        let sessionDescription\n        try {\n            sessionDescription = await rtcPeerConnection.createOffer()\n            rtcPeerConnection.setLocalDescription(sessionDescription)\n        } catch (error) {\n            console.error(error)\n        }\n\n        socket.emit('webrtc_offer', {\n            type: 'webrtc_offer',\n            sdp: sessionDescription,\n            roomId,\n        })\n    }\n\n    async function createAnswer(rtcPeerConnection) {\n        let sessionDescription\n        try {\n            sessionDescription = await rtcPeerConnection.createAnswer()\n            rtcPeerConnection.setLocalDescription(sessionDescription)\n        } catch (error) {\n            console.error(error)\n        }\n\n        socket.emit('webrtc_answer', {\n            type: 'webrtc_answer',\n            sdp: sessionDescription,\n            roomId,\n        })\n    }\n\n    function setRemoteStream(event) {\n        remoteVideoComponent.srcObject = event.streams[0]\n        remoteStream = event.stream\n    }\n\n    function sendIceCandidate(event) {\n        if (event.candidate) {\n            socket.emit('webrtc_ice_candidate', {\n                roomId,\n                label: event.candidate.sdpMLineIndex,\n                candidate: event.candidate.candidate,\n            })\n        }\n    }\n\n    let selectWebCam = (e) => {\n        setDeviceID_0(e.target.value);\n        console.log(deviceID_0);\n    }\n    return (\n        <>\n            <div id=\"room-selection-container\" className=\"centered\">\n                <input type='text' onChange={e => setDeviceID_0(e.target.value)} />\n                <input id=\"room-input\" type=\"text\" onChange={e => setId(e.target.value)} />\n                <button id=\"connect-button\" onClick={e => connect()}>CONNECT</button>\n            </div>\n\n            <div id=\"video-chat-container\" className=\"video-position\">\n                <video id=\"local-video\" autoPlay muted=\"muted\"></video>\n                <video id=\"remote-video\" autoPlay></video>\n            </div>\n        </>\n\n    )\n\n}\n\nexport default App;","import React, { useState } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nfunction App2() {\r\n\r\n    const [id, setId] = useState();\r\n    const [offerData, setOfferData] = useState({});\r\n    const [answerData, setAnswerData] = useState({});\r\n    const [deviceID_0, setDeviceID_0] = useState('');\r\n    let socket = io('https://rtc-test-11.herokuapp.com');\r\n   // navigator.getUserMedia = navigator.getUserMedia | navigator.webkitGetUserMedia | navigator.mozGetUserMedia | navigator.msGetUserMedia;\r\n    let iceServers = [\r\n        { urls: 'stun:stun.l.google.com:19302' },\r\n        { urls: 'stun:stun1.l.google.com:19302' },\r\n        { urls: 'stun:stun2.l.google.com:19302' },\r\n        { urls: 'stun:stun3.l.google.com:19302' },\r\n        { urls: 'stun:stun4.l.google.com:19302' },\r\n    ]\r\n    const roomSelectionContainer = document.getElementById('room-selection-container')\r\n    const roomInput = document.getElementById('room-input')\r\n    const connectButton = document.getElementById('connect-button')\r\n\r\n    const videoChatContainer = document.getElementById('video-chat-container')\r\n    const localVideoComponent = document.getElementById('local-video')\r\n    const remoteVideoComponent = document.getElementById('remote-video')\r\n\r\n    const mediaConstraints = {\r\n        audio: true,\r\n        video: { width: 1280, height: 720 },\r\n    }\r\n\r\n    let localStream\r\n    let remoteStream\r\n    let isRoomCreator\r\n    let rtcPeerConnection // Connection between the local device and the remote peer.\r\n    let roomId\r\n\r\n    navigator.mediaDevices.enumerateDevices().then(device => {\r\n        console.log(device.filter(elem => elem.kind == 'videoinput'))\r\n    });\r\n\r\n\r\n    // BUTTON LISTENER ============================================================\r\n    let connect = () => {\r\n        joinRoom(id)\r\n    }\r\n\r\n    // SOCKET EVENT CALLBACKS =====================================================\r\n    socket.on('room_created', async () => {\r\n        console.log('Socket event callback: room_created')\r\n\r\n        await setLocalStream(mediaConstraints)\r\n        isRoomCreator = true\r\n    })\r\n\r\n    socket.on('room_joined', async () => {\r\n        console.log('Socket event callback: room_joined')\r\n\r\n        await setLocalStream(mediaConstraints)\r\n        socket.emit('start_call', roomId)\r\n    })\r\n\r\n    socket.on('full_room', () => {\r\n        console.log('Socket event callback: full_room')\r\n\r\n        alert('The room is full, please try another one')\r\n    })\r\n\r\n    socket.on('start_call', async () => {\r\n        console.log('Socket event callback: start_call')\r\n\r\n        if (isRoomCreator) {\r\n            rtcPeerConnection = new RTCPeerConnection(iceServers);\r\n            addLocalTracks(rtcPeerConnection);\r\n            rtcPeerConnection.ontrack = setRemoteStream;\r\n            rtcPeerConnection.onicecandidate = sendIceCandidate;\r\n            await createOffer(rtcPeerConnection);\r\n        }\r\n    })\r\n\r\n    socket.on('webrtc_offer', async (event) => {\r\n        console.log('Socket event callback: webrtc_offer');\r\n\r\n        if (!isRoomCreator) {\r\n            rtcPeerConnection = new RTCPeerConnection(iceServers);\r\n            addLocalTracks(rtcPeerConnection);\r\n            rtcPeerConnection.ontrack = setRemoteStream;\r\n            rtcPeerConnection.onicecandidate = sendIceCandidate;\r\n            rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(event));\r\n            await createAnswer(rtcPeerConnection);\r\n        }\r\n    })\r\n\r\n    socket.on('webrtc_answer', (event) => {\r\n        console.log('Socket event callback: webrtc_answer')\r\n\r\n        rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(event))\r\n    })\r\n\r\n    socket.on('webrtc_ice_candidate', (event) => {\r\n\r\n        var candidate = new RTCIceCandidate({\r\n            sdpMLineIndex: event.label,\r\n            candidate: event.candidate,\r\n        })\r\n        rtcPeerConnection.addIceCandidate(candidate)\r\n    })\r\n\r\n    // FUNCTIONS ==================================================================\r\n    function joinRoom(room) {\r\n        if (room === '') {\r\n            alert('Please type a room ID')\r\n        } else {\r\n            roomId = room\r\n            socket.emit('join', room)\r\n            showVideoConference()\r\n        }\r\n    }\r\n\r\n    function showVideoConference() {\r\n        roomSelectionContainer.style = 'display: none'\r\n        videoChatContainer.style = 'display: block'\r\n    }\r\n\r\n    async function setLocalStream(mediaConstraints) {\r\n\r\n\r\n        try {\r\n\r\n\r\n            let stream = await navigator.mediaDevices.getUserMedia({ audio: false, video: true, deviceId: deviceID_0 });\r\n            // console.log(device.filter(elem => elem.kind === 'videoinput')[0].deviceId)\r\n            localStream = stream\r\n            localVideoComponent.srcObject = stream\r\n\r\n            // console.log(deviceID_0);\r\n\r\n            // console.log((await navigator.mediaDevices.enumerateDevices()).filter(elem => elem.kind == 'videoinput'));\r\n\r\n        } catch (error) {\r\n            console.error('Could not get user media', error)\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function addLocalTracks(rtcPeerConnection) {\r\n        localStream.getTracks().forEach((track) => {\r\n            rtcPeerConnection.addTrack(track, localStream)\r\n        })\r\n    }\r\n\r\n    async function createOffer(rtcPeerConnection) {\r\n        let sessionDescription\r\n        try {\r\n            sessionDescription = await rtcPeerConnection.createOffer()\r\n            rtcPeerConnection.setLocalDescription(sessionDescription)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n\r\n        socket.emit('webrtc_offer', {\r\n            type: 'webrtc_offer',\r\n            sdp: sessionDescription,\r\n            roomId,\r\n        })\r\n    }\r\n\r\n    async function createAnswer(rtcPeerConnection) {\r\n        let sessionDescription\r\n        try {\r\n            sessionDescription = await rtcPeerConnection.createAnswer()\r\n            rtcPeerConnection.setLocalDescription(sessionDescription)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n\r\n        socket.emit('webrtc_answer', {\r\n            type: 'webrtc_answer',\r\n            sdp: sessionDescription,\r\n            roomId,\r\n        })\r\n    }\r\n\r\n    function setRemoteStream(event) {\r\n        remoteVideoComponent.srcObject = event.streams[0]\r\n        remoteStream = event.stream\r\n    }\r\n\r\n    function sendIceCandidate(event) {\r\n        if (event.candidate) {\r\n            socket.emit('webrtc_ice_candidate', {\r\n                roomId,\r\n                label: event.candidate.sdpMLineIndex,\r\n                candidate: event.candidate.candidate,\r\n            })\r\n        }\r\n    }\r\n\r\n    let selectWebCam = (e) => {\r\n        setDeviceID_0(e.target.value);\r\n        console.log(deviceID_0);\r\n    }\r\n    return (\r\n        <>\r\n            <div id=\"room-selection-container\" className=\"centered\">\r\n                <input type='text' onChange={e => setDeviceID_0(e.target.value)} />\r\n                <input id=\"room-input\" type=\"text\" onChange={e => setId(e.target.value)} />\r\n                <button id=\"connect-button\" onClick={e => connect()}>CONNECT</button>\r\n            </div>\r\n\r\n            <div id=\"video-chat-container\" className=\"video-position\">\r\n                <video id=\"local-video\" autoPlay muted=\"muted\"></video>\r\n                <video id=\"remote-video\" autoPlay></video>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default App2;","import React, { useState } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nfunction App3() {\r\n\r\n    const [id, setId] = useState();\r\n    const [offerData, setOfferData] = useState({});\r\n    const [answerData, setAnswerData] = useState({});\r\n    const [deviceID_0, setDeviceID_0] = useState('');\r\n    let socket = io('https://rtc-test-11.herokuapp.com/');\r\n   // navigator.getUserMedia = navigator.getUserMedia | navigator.webkitGetUserMedia | navigator.mozGetUserMedia | navigator.msGetUserMedia;\r\n    let iceServers = [\r\n        { urls: 'stun:stun.l.google.com:19302' },\r\n        { urls: 'stun:stun1.l.google.com:19302' },\r\n        { urls: 'stun:stun2.l.google.com:19302' },\r\n        { urls: 'stun:stun3.l.google.com:19302' },\r\n        { urls: 'stun:stun4.l.google.com:19302' },\r\n    ]\r\n    const roomSelectionContainer = document.getElementById('room-selection-container')\r\n    const roomInput = document.getElementById('room-input')\r\n    const connectButton = document.getElementById('connect-button')\r\n\r\n    const videoChatContainer = document.getElementById('video-chat-container')\r\n    const localVideoComponent = document.getElementById('local-video')\r\n    const remoteVideoComponent = document.getElementById('remote-video')\r\n\r\n    const mediaConstraints = {\r\n        audio: true,\r\n        video: { width: 1280, height: 720 },\r\n    }\r\n\r\n    let localStream\r\n    let remoteStream\r\n    let isRoomCreator\r\n    let rtcPeerConnection // Connection between the local device and the remote peer.\r\n    let roomId\r\n\r\n    navigator.mediaDevices.enumerateDevices().then(device => {\r\n        console.log(device.filter(elem => elem.kind == 'videoinput'))\r\n    });\r\n\r\n\r\n    // BUTTON LISTENER ============================================================\r\n    let connect = () => {\r\n        joinRoom(id)\r\n    }\r\n\r\n    // SOCKET EVENT CALLBACKS =====================================================\r\n    socket.on('room_created', async () => {\r\n        console.log('Socket event callback: room_created')\r\n\r\n        await setLocalStream(mediaConstraints)\r\n        isRoomCreator = true\r\n    })\r\n\r\n    socket.on('room_joined', async () => {\r\n        console.log('Socket event callback: room_joined')\r\n\r\n        await setLocalStream(mediaConstraints)\r\n        socket.emit('start_call', roomId)\r\n    })\r\n\r\n    socket.on('full_room', () => {\r\n        console.log('Socket event callback: full_room')\r\n\r\n        alert('The room is full, please try another one')\r\n    })\r\n\r\n    socket.on('start_call', async () => {\r\n        console.log('Socket event callback: start_call')\r\n\r\n        if (isRoomCreator) {\r\n            rtcPeerConnection = new RTCPeerConnection(iceServers);\r\n            addLocalTracks(rtcPeerConnection);\r\n            rtcPeerConnection.ontrack = setRemoteStream;\r\n            rtcPeerConnection.onicecandidate = sendIceCandidate;\r\n            await createOffer(rtcPeerConnection);\r\n        }\r\n    })\r\n\r\n    socket.on('webrtc_offer', async (event) => {\r\n        console.log('Socket event callback: webrtc_offer');\r\n\r\n        if (!isRoomCreator) {\r\n            rtcPeerConnection = new RTCPeerConnection(iceServers);\r\n            addLocalTracks(rtcPeerConnection);\r\n            rtcPeerConnection.ontrack = setRemoteStream;\r\n            rtcPeerConnection.onicecandidate = sendIceCandidate;\r\n            rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(event));\r\n            await createAnswer(rtcPeerConnection);\r\n        }\r\n    })\r\n\r\n    socket.on('webrtc_answer', (event) => {\r\n        console.log('Socket event callback: webrtc_answer')\r\n\r\n        rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(event))\r\n    })\r\n\r\n    socket.on('webrtc_ice_candidate', (event) => {\r\n\r\n        var candidate = new RTCIceCandidate({\r\n            sdpMLineIndex: event.label,\r\n            candidate: event.candidate,\r\n        })\r\n        rtcPeerConnection.addIceCandidate(candidate)\r\n    })\r\n\r\n    // FUNCTIONS ==================================================================\r\n    function joinRoom(room) {\r\n        if (room === '') {\r\n            alert('Please type a room ID')\r\n        } else {\r\n            roomId = room\r\n            socket.emit('join', room)\r\n            showVideoConference()\r\n        }\r\n    }\r\n\r\n    function showVideoConference() {\r\n        roomSelectionContainer.style = 'display: none'\r\n        videoChatContainer.style = 'display: block'\r\n    }\r\n\r\n    async function setLocalStream(mediaConstraints) {\r\n\r\n\r\n        try {\r\n\r\n\r\n            let stream = await navigator.mediaDevices.getUserMedia({ audio: false, video: true, deviceId: deviceID_0 });\r\n            // console.log(device.filter(elem => elem.kind === 'videoinput')[0].deviceId)\r\n            localStream = stream\r\n            localVideoComponent.srcObject = stream\r\n\r\n            // console.log(deviceID_0);\r\n\r\n            // console.log((await navigator.mediaDevices.enumerateDevices()).filter(elem => elem.kind == 'videoinput'));\r\n\r\n        } catch (error) {\r\n            console.error('Could not get user media', error)\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function addLocalTracks(rtcPeerConnection) {\r\n        localStream.getTracks().forEach((track) => {\r\n            rtcPeerConnection.addTrack(track, localStream)\r\n        })\r\n    }\r\n\r\n    async function createOffer(rtcPeerConnection) {\r\n        let sessionDescription\r\n        try {\r\n            sessionDescription = await rtcPeerConnection.createOffer()\r\n            rtcPeerConnection.setLocalDescription(sessionDescription)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n\r\n        socket.emit('webrtc_offer', {\r\n            type: 'webrtc_offer',\r\n            sdp: sessionDescription,\r\n            roomId,\r\n        })\r\n    }\r\n\r\n    async function createAnswer(rtcPeerConnection) {\r\n        let sessionDescription\r\n        try {\r\n            sessionDescription = await rtcPeerConnection.createAnswer()\r\n            rtcPeerConnection.setLocalDescription(sessionDescription)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n\r\n        socket.emit('webrtc_answer', {\r\n            type: 'webrtc_answer',\r\n            sdp: sessionDescription,\r\n            roomId,\r\n        })\r\n    }\r\n\r\n    function setRemoteStream(event) {\r\n        remoteVideoComponent.srcObject = event.streams[0]\r\n        remoteStream = event.stream\r\n    }\r\n\r\n    function sendIceCandidate(event) {\r\n        if (event.candidate) {\r\n            socket.emit('webrtc_ice_candidate', {\r\n                roomId,\r\n                label: event.candidate.sdpMLineIndex,\r\n                candidate: event.candidate.candidate,\r\n            })\r\n        }\r\n    }\r\n\r\n    let selectWebCam = (e) => {\r\n        setDeviceID_0(e.target.value);\r\n        console.log(deviceID_0);\r\n    }\r\n    return (\r\n        <>\r\n            <div id=\"room-selection-container\" className=\"centered\">\r\n                <input type='text' onChange={e => setDeviceID_0(e.target.value)} />\r\n                <input id=\"room-input\" type=\"text\" onChange={e => setId(e.target.value)} />\r\n                <button id=\"connect-button\" onClick={e => connect()}>CONNECT</button>\r\n            </div>\r\n\r\n            <div id=\"video-chat-container\" className=\"video-position\">\r\n                <video id=\"local-video\" autoPlay muted=\"muted\"></video>\r\n                <video id=\"remote-video\" autoPlay></video>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default App3;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport App2 from './App2';\r\nimport App3 from './App3';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Route, BrowserRouter, Switch } from 'react-router-dom'\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path='/' component={App} />\r\n        <Route path='/c2' component={App2} />\r\n        <Route path='/c3' component={App3} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}