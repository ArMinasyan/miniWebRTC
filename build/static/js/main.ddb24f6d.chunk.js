(this.webpackJsonpvc=this.webpackJsonpvc||[]).push([[0],{43:function(e,n,t){e.exports=t(81)},48:function(e,n,t){},74:function(e,n){},81:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t.n(o),a=t(40),i=t.n(a),r=(t(48),t(15)),s=t(14),l=t.n(s);var u=function(){var e=Object(o.useState)(""),n=Object(r.a)(e,2),t=n[0],a=n[1],i=l()("https://rtc-test-11.herokuapp.com/"),s=document.getElementById("localVideo"),u=document.getElementById("remoteVideo"),d=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]});i.on("room_created",(function(){console.log("Room Created: ",t),m(d)})),i.on("room_joined",(function(){console.log("Room Joined: ",t),m(d)})),i.on("offer",(function(e){console.log("Offer"),d.setRemoteDescription(new RTCSessionDescription(e))})),i.on("answer",(function(e){console.log("Answer"),d.setRemoteDescription(new RTCSessionDescription(e))})),d.ontrack=function(e){u.srcObject=e.streams[0]},i.on("candidate",(function(e){d.addIceCandidate(e.candidate)}));var m=function(e){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(n){s.srcObject=n,n.getTracks().forEach((function(t){e.addTrack(t,n)}))}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:t,onChange:function(e){return a(e.target.value)}}),c.a.createElement("button",{onClick:function(e){i.emit("join",t)}},"Connect"),c.a.createElement("button",{onClick:function(e){return d.createOffer().then((function(e){d.setLocalDescription(new RTCSessionDescription(e)),i.emit("offer",{id:t,offer:e})})),void(d.onicecandidate=function(e){e.candidate&&i.emit("candidate",{id:t,candidate:e.candidate,irc:!0})})}},"Call"),c.a.createElement("button",{onClick:function(e){return d.createAnswer().then((function(e){d.setLocalDescription(new RTCSessionDescription(e)),i.emit("answer",{id:t,answer:e})})),void(d.onicecandidate=function(e){e.candidate&&i.emit("candidate",{id:t,candidate:e.candidate})})}},"Answer"),c.a.createElement("br",null),c.a.createElement("video",{id:"localVideo",autoPlay:!0,height:200}),c.a.createElement("video",{id:"remoteVideo",autoPlay:!0,height:200}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=t(41),m=t(1);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d.a,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:"/",component:u})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.ddb24f6d.chunk.js.map